{"ast":null,"code":"import _objectSpread from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{Accordion,AccordionDetails,AccordionSummary,Checkbox,Grid,Typography}from\"@material-ui/core\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import{useState}from\"react\";import AskWhy from\"./components/AskWhy\";import DataTable from\"react-data-table-component\";import API from\"utils/API\";import{parseValue,replaceValue}from\"utils/ChangeHelper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NetworkMembers(val){var _useState=useState(_toConsumableArray(val.members)),_useState2=_slicedToArray(_useState,2),members=_useState2[0],setMembers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),askwhy=_useState4[0],setAskWhy=_useState4[1];var sendReq=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(nwid,mid,data){var req;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.post(\"/network/\"+nwid+\"/member/\"+mid,[data]);case 2:req=_context.sent;console.log(\"Action:\",req.data.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function sendReq(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(member){var key1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var mode=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"text\";var id=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return function(event){console.log(event);if(event.target.checked===true){handleOpen();}//\nvar value=parseValue(event,mode,member,key1,id);var updatedMember=replaceValue(_objectSpread({},member),key1,null,value);var index=members.findIndex(function(item){return item[\"address\"]===member[\"address\"];});var mutableMembers=_toConsumableArray(members);mutableMembers[index]=updatedMember;setMembers(mutableMembers);sendReq(val.nwid,member[\"address\"],mutableMembers[index]);};};var handleClose=function handleClose(){setAskWhy(false);};var handleOpen=function handleOpen(){setAskWhy(true);};var columns=[{id:\"authorized\",name:\"Authorized\",minWidth:\"80px\",cell:function cell(row){return/*#__PURE__*/_jsx(Checkbox,{checked:row.authorized,color:\"primary\",onChange:handleChange(row,\"authorized\",\"checkbox\")});}},{id:\"address\",name:\"Address\",minWidth:\"150px\",cell:function cell(row){return/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:row.address});}},{id:\"name\",name:\"Name\",minWidth:\"250px\",cell:function cell(row){return/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:row.name});}}];return/*#__PURE__*/_jsxs(Accordion,{defaultExpanded:true,children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{children:\"Members\"})}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",spacing:3,children:[/*#__PURE__*/_jsx(AskWhy,{open:askwhy,handleClose:handleClose}),/*#__PURE__*/_jsx(Grid,{container:true,children:members.length?/*#__PURE__*/_jsx(DataTable,{noHeader:true,columns:columns,data:_toConsumableArray(members)}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,direction:\"column\",alignItems:\"center\",justify:\"center\",style:{minHeight:\"50vh\"},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{padding:\"10%\"},children:\"No devices Available.\"})})})]})})]});}export default NetworkMembers;","map":{"version":3,"names":["Accordion","AccordionDetails","AccordionSummary","Checkbox","Grid","Typography","ExpandMoreIcon","useState","AskWhy","DataTable","API","parseValue","replaceValue","NetworkMembers","val","members","setMembers","askwhy","setAskWhy","sendReq","nwid","mid","data","post","req","console","log","handleChange","member","key1","mode","id","event","target","checked","handleOpen","value","updatedMember","index","findIndex","item","mutableMembers","handleClose","columns","name","minWidth","cell","row","authorized","address","length","minHeight","padding"],"sources":["/mnt/Datengrab/python/Zero-tier/frontend/src/components/HomeUserMember/components/UserNetworkMembers/NetworkMembers.jsx"],"sourcesContent":["import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Checkbox,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useState } from \"react\";\nimport AskWhy from \"./components/AskWhy\";\nimport DataTable from \"react-data-table-component\";\nimport API from \"utils/API\";\nimport { parseValue, replaceValue } from \"utils/ChangeHelper\";\n\nfunction NetworkMembers( val ) {\n  \n  const [members, setMembers] = useState([...val.members]);\n  const [askwhy, setAskWhy] = useState(false);\n\n  const sendReq = async (nwid ,mid, data) => {\n    const req = await API.post(\"/network/\" + nwid + \"/member/\" + mid, [data]);\n    console.log(\"Action:\", req.data.data);\n  };\n\n  const handleChange =\n    (member, key1 = null, mode = \"text\", id = null) =>\n    (event) => {\n      console.log(event)\n      if (event.target.checked === true) {\n        handleOpen()\n      }\n      //\n      const value = parseValue(event, mode, member, key1, id);\n      const updatedMember = replaceValue({...member}, key1, null, value);\n      const index = members.findIndex((item) => {\n        return item[\"address\"] === member[\"address\"];\n      });\n      let mutableMembers = [...members];\n\n      mutableMembers[index] = updatedMember;\n      \n      setMembers(mutableMembers);\n\n      sendReq(val.nwid, member[\"address\"], mutableMembers[index]);\n    };\n\n  const handleClose = () => {\n      setAskWhy(false);\n    };\n\n  const handleOpen = () => {\n    setAskWhy(true)\n    \n  }\n  \n  const columns = [\n    {\n      id: \"authorized\",\n      name: \"Authorized\",\n      minWidth: \"80px\",\n      cell: (row) => (\n        <Checkbox\n          checked={row.authorized}\n          color=\"primary\"\n          onChange={handleChange(row, \"authorized\", \"checkbox\")}\n        />\n      ),\n    },\n    {\n      id: \"address\",\n      name: \"Address\",\n      minWidth: \"150px\",\n      cell: (row) => (\n        <Typography variant=\"body2\">{row.address}</Typography>\n      ),\n    },\n    {\n      id: \"name\",\n      name: \"Name\",\n      minWidth: \"250px\",\n      cell: (row) => (<Typography variant=\"body1\">{row.name}</Typography>),\n    }\n  ];\n\n  return (\n    <Accordion defaultExpanded={true}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <Typography>Members</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <Grid container direction=\"column\" spacing={3}>\n        <AskWhy open={askwhy} handleClose={handleClose}></AskWhy>\n          <Grid container>\n            {members.length ? (\n              <DataTable\n                noHeader={true}\n                columns={columns}\n                data={[...members]}\n              />\n            ) : (\n              <Grid\n                container\n                spacing={0}\n                direction=\"column\"\n                alignItems=\"center\"\n                justify=\"center\"\n                style={{\n                  minHeight: \"50vh\",\n                }}\n              >\n                <Typography variant=\"h6\" style={{ padding: \"10%\" }}>\n                  No devices Available.\n                </Typography>\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n      </AccordionDetails>\n    </Accordion>\n  );\n}\n\nexport default NetworkMembers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}