{"ast":null,"code":"import _slicedToArray from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{useLocalStorage}from\"react-use\";import{TextField,Button,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LogInToken(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorText=_useState4[0],setErrorText=_useState4[1];var _useLocalStorage=useLocalStorage(\"loggedIn\",false),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),setLoggedIn=_useLocalStorage2[1];var _useLocalStorage3=useLocalStorage(\"token\",null),_useLocalStorage4=_slicedToArray(_useLocalStorage3,2),token=_useLocalStorage4[0],setToken=_useLocalStorage4[1];var history=useHistory();var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleKeyPress=function handleKeyPress(event){var key=event.key;if(event.altKey||event.ctrlKey||event.metaKey||event.shiftKey){return;}if(key===\"Enter\"){LogIn();}};var LogIn=function LogIn(){if(token.length!==32){setErrorText(\"Token length error\");return;}setLoggedIn(true);setToken(token);handleClose();history.go(0);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClickOpen,color:\"inherit\",variant:\"outlined\",children:\"Token Log In\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,onKeyPress:handleKeyPress,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Log In\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{children:\"ADVANCED FEATURE.\"}),/*#__PURE__*/_jsx(TextField,{value:token,onChange:function onChange(e){setToken(e.target.value);},error:!!errorText,helperText:errorText,margin:\"dense\",label:\"token\",type:\"text\",fullWidth:true})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:LogIn,color:\"primary\",children:\"Log In\"})]})]})]});}export default LogInToken;","map":{"version":3,"names":["useState","useHistory","useLocalStorage","TextField","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","LogInToken","open","setOpen","errorText","setErrorText","setLoggedIn","token","setToken","history","handleClickOpen","handleClose","handleKeyPress","event","key","altKey","ctrlKey","metaKey","shiftKey","LogIn","length","go","e","target","value"],"sources":["/mnt/Datengrab/python/Zero-tier/frontend/src/components/LogIn/components/LogInToken/LogInToken.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useLocalStorage } from \"react-use\";\n\nimport {\n  TextField,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\n\nfunction LogInToken() {\n  const [open, setOpen] = useState(false);\n  const [errorText, setErrorText] = useState(\"\");\n\n  const [, setLoggedIn] = useLocalStorage(\"loggedIn\", false);\n  const [token, setToken] = useLocalStorage(\"token\", null);\n\n  const history = useHistory();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleKeyPress = (event) => {\n    const key = event.key;\n\n    if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    if (key === \"Enter\") {\n      LogIn();\n    }\n  };\n\n  const LogIn = () => {\n    if (token.length !== 32) {\n      setErrorText(\"Token length error\");\n      return;\n    }\n    setLoggedIn(true);\n    setToken(token);\n    handleClose();\n    history.go(0);\n  };\n\n  return (\n    <div>\n      <Button onClick={handleClickOpen} color=\"inherit\" variant=\"outlined\">\n        Token Log In\n      </Button>\n      <Dialog open={open} onClose={handleClose} onKeyPress={handleKeyPress}>\n        <DialogTitle>Log In</DialogTitle>\n        <DialogContent>\n          <DialogContentText>ADVANCED FEATURE.</DialogContentText>\n          <TextField\n            value={token}\n            onChange={(e) => {\n              setToken(e.target.value);\n            }}\n            error={!!errorText}\n            helperText={errorText}\n            margin=\"dense\"\n            label=\"token\"\n            type=\"text\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={LogIn} color=\"primary\">\n            Log In\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default LogInToken;\n"],"mappings":"8HAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,eAAT,KAAgC,WAAhC,CAEA,OACEC,SADF,CAEEC,MAFF,CAGEC,MAHF,CAIEC,aAJF,CAKEC,aALF,CAMEC,iBANF,CAOEC,WAPF,KAQO,mBARP,C,wFAUA,QAASC,CAAAA,UAAT,EAAsB,CACpB,cAAwBV,QAAQ,CAAC,KAAD,CAAhC,wCAAOW,IAAP,eAAaC,OAAb,eACA,eAAkCZ,QAAQ,CAAC,EAAD,CAA1C,yCAAOa,SAAP,eAAkBC,YAAlB,eAEA,qBAAwBZ,eAAe,CAAC,UAAD,CAAa,KAAb,CAAvC,sDAASa,WAAT,sBACA,sBAA0Bb,eAAe,CAAC,OAAD,CAAU,IAAV,CAAzC,uDAAOc,KAAP,sBAAcC,QAAd,sBAEA,GAAMC,CAAAA,OAAO,CAAGjB,UAAU,EAA1B,CAEA,GAAMkB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BP,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAIA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBR,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAIA,GAAMS,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAChC,GAAMC,CAAAA,GAAG,CAAGD,KAAK,CAACC,GAAlB,CAEA,GAAID,KAAK,CAACE,MAAN,EAAgBF,KAAK,CAACG,OAAtB,EAAiCH,KAAK,CAACI,OAAvC,EAAkDJ,KAAK,CAACK,QAA5D,CAAsE,CACpE,OACD,CAED,GAAIJ,GAAG,GAAK,OAAZ,CAAqB,CACnBK,KAAK,GACN,CACF,CAVD,CAYA,GAAMA,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAIZ,KAAK,CAACa,MAAN,GAAiB,EAArB,CAAyB,CACvBf,YAAY,CAAC,oBAAD,CAAZ,CACA,OACD,CACDC,WAAW,CAAC,IAAD,CAAX,CACAE,QAAQ,CAACD,KAAD,CAAR,CACAI,WAAW,GACXF,OAAO,CAACY,EAAR,CAAW,CAAX,EACD,CATD,CAWA,mBACE,oCACE,KAAC,MAAD,EAAQ,OAAO,CAAEX,eAAjB,CAAkC,KAAK,CAAC,SAAxC,CAAkD,OAAO,CAAC,UAA1D,0BADF,cAIE,MAAC,MAAD,EAAQ,IAAI,CAAER,IAAd,CAAoB,OAAO,CAAES,WAA7B,CAA0C,UAAU,CAAEC,cAAtD,wBACE,KAAC,WAAD,qBADF,cAEE,MAAC,aAAD,yBACE,KAAC,iBAAD,gCADF,cAEE,KAAC,SAAD,EACE,KAAK,CAAEL,KADT,CAEE,QAAQ,CAAE,kBAACe,CAAD,CAAO,CACfd,QAAQ,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAJH,CAKE,KAAK,CAAE,CAAC,CAACpB,SALX,CAME,UAAU,CAAEA,SANd,CAOE,MAAM,CAAC,OAPT,CAQE,KAAK,CAAC,OARR,CASE,IAAI,CAAC,MATP,CAUE,SAAS,KAVX,EAFF,GAFF,cAiBE,MAAC,aAAD,yBACE,KAAC,MAAD,EAAQ,OAAO,CAAEO,WAAjB,CAA8B,KAAK,CAAC,SAApC,oBADF,cAIE,KAAC,MAAD,EAAQ,OAAO,CAAEQ,KAAjB,CAAwB,KAAK,CAAC,SAA9B,oBAJF,GAjBF,GAJF,GADF,CAiCD,CAED,cAAelB,CAAAA,UAAf"},"metadata":{},"sourceType":"module"}