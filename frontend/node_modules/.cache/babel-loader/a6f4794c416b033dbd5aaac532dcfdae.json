{"ast":null,"code":"import _slicedToArray from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/mnt/Datengrab/python/Zero-tier/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{Button,Grid,Snackbar}from\"@material-ui/core\";import*as React from\"react\";import{useState}from\"react\";import ClearIcon from\"@material-ui/icons/Clear\";import Box from\"@mui/material/Box\";import InputLabel from\"@mui/material/InputLabel\";import MenuItem from\"@mui/material/MenuItem\";import FormControl from\"@mui/material/FormControl\";import Select from\"@mui/material/Select\";import{useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DelUser(){useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/user-managment\");case 2:users=_context.sent;setUsers(users.data.data);console.log(\"Users:\",users.data.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var sendValue=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var index;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(personName);if(personName[0]===\"None\"){setSnackbarOpen(true);}else{axios.post(\"/api/user-managment/del/\"+personName,{username:personName}).catch(function(error){console.error(error);});index=users.indexOf(personName[0]);if(index>-1){users.splice(index,1);}// 2nd parameter means remove one item only\n}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function sendValue(){return _ref.apply(this,arguments);};}();var handleCloseSnackbar=function handleCloseSnackbar(){setSnackbarOpen(false);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),snackbarOpen=_useState2[0],setSnackbarOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),personName=_React$useState2[0],setPersonName=_React$useState2[1];var handleChange=function handleChange(event){var value=event.target.value;setPersonName(// On autofill we get a stringified value.\ntypeof value===\"string\"?value.split(\",\"):value);};return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:5,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Box,{sx:{minWidth:120},children:/*#__PURE__*/_jsxs(FormControl,{sx:{m:1,minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-controlled-open-select-label\",children:\"Users\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"demo-controlled-open-select-label\",id:\"demo-controlled-open-select\",value:personName,label:\"Users\",onChange:handleChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"None\",children:/*#__PURE__*/_jsx(\"em\",{children:\"None\"})}),users.map(function(name){return/*#__PURE__*/_jsx(MenuItem,{value:name,children:name},name);})]})]})})}),/*#__PURE__*/_jsx(Button,{endIcon:/*#__PURE__*/_jsx(ClearIcon,{}),onClick:sendValue,children:\"Delete\"}),/*#__PURE__*/_jsx(Snackbar,{open:snackbarOpen,anchorOrigin:{vertical:\"top\",horizontal:\"center\"},autoHideDuration:4000,onClose:handleCloseSnackbar,message:\"Bitte User ausw\\xE4hlen\"})]});}export default DelUser;","map":{"version":3,"names":["Button","Grid","Snackbar","React","useState","ClearIcon","Box","InputLabel","MenuItem","FormControl","Select","useEffect","axios","DelUser","fetchData","get","users","setUsers","data","console","log","sendValue","personName","setSnackbarOpen","post","username","catch","error","index","indexOf","splice","handleCloseSnackbar","snackbarOpen","setPersonName","handleChange","event","value","target","split","minWidth","m","map","name","vertical","horizontal"],"sources":["/mnt/Datengrab/python/Zero-tier/frontend/src/components/UserManagment/DelUser/DelUser.jsx"],"sourcesContent":["import { Button, Grid, Snackbar } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport Box from \"@mui/material/Box\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction DelUser() {\n  useEffect(() => {\n    async function fetchData() {\n      const users = await axios.get(\"/api/user-managment\");\n      setUsers(users.data.data);\n      console.log(\"Users:\", users.data.data);\n    }\n    fetchData();\n  }, []);\n\n  const sendValue = async () => {\n    console.log(personName);\n    if (personName[0] === \"None\") {\n      setSnackbarOpen(true);\n    } else {\n      axios\n        .post(\"/api/user-managment/del/\" + personName, {\n          username: personName,\n        })\n        .catch(function (error) {\n          console.error(error);\n        });\n      const index = users.indexOf(personName[0]);\n      if (index > -1) {\n        users.splice(index, 1);\n      } // 2nd parameter means remove one item only\n    }\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbarOpen(false);\n  };\n\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [personName, setPersonName] = React.useState([]);\n\n  const handleChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setPersonName(\n      // On autofill we get a stringified value.\n      typeof value === \"string\" ? value.split(\",\") : value\n    );\n  };\n\n  return (\n    <Grid container spacing={5}>\n      <Grid item>\n        <Box sx={{ minWidth: 120 }}>\n          <FormControl sx={{ m: 1, minWidth: 120 }}>\n            <InputLabel id=\"demo-controlled-open-select-label\">\n              Users\n            </InputLabel>\n            <Select\n              labelId=\"demo-controlled-open-select-label\"\n              id=\"demo-controlled-open-select\"\n              value={personName}\n              label=\"Users\"\n              onChange={handleChange}\n            >\n              <MenuItem value=\"None\">\n                <em>None</em>\n              </MenuItem>\n\n              {users.map((name) => (\n                <MenuItem key={name} value={name}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Box>\n      </Grid>\n      <Button endIcon={<ClearIcon />} onClick={sendValue}>\n        Delete\n      </Button>\n      <Snackbar\n        open={snackbarOpen}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        autoHideDuration={4000}\n        onClose={handleCloseSnackbar}\n        message=\"Bitte User auswÃ¤hlen\"\n      />\n    </Grid>\n  );\n}\n\nexport default DelUser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}